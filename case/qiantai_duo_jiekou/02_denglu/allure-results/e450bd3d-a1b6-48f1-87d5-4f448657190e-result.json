{"name": "前台——登录", "status": "broken", "statusDetails": {"message": "KeyError: 'token'", "trace": "first_ad_info = {'password': 123456, 'user_name': 15275594231}\n\n    @pytest.fixture(scope=\"session\")\n    def first_ad_action(first_ad_info):\n>       return  merchant.Merchant(first_ad_info)\n\n..\\..\\conftest.py:20: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <action.merchant.Merchant object at 0x0000025C2A50B470>\notc_db = {'password': 123456, 'user_name': 15275594231}\n\n    def __init__(self,otc_db):\n        data = ReadYaml(\"data.yml\").get_yaml_data()  # 读取数据\n        self.username = data['otc_user']['user_name']\n        self.password = data['otc_user']['password']\n        self.db_conn = otc_db\n    \n        # row = self.db_conn.query(\"select * from t_merchant where merchant_loginname = '{}' \",self.user_name)\n        # row = sql(sql=(\"select * from t_merchant where merchant_loginname = '{}' \",self.username))\n        # assert row[0]\n        # self.merchant_id = row[0]['merchant_id']\n    \n        # print(json.dumps(self.merchant_login()['status_code']))\n        self.merchant_api_client = merchant.Merchant()\n        # self.status_code = json.dumps(self.merchant_login()['status_code'])\n        # #\n        # if self.status_code!= 200:\n        #     self.is_valid_login = False\n        #     return\n        # self.create_code(rsp['data']['session'])\n        #获取到验证码值\n        # redis_config = self.get_env()['redis']\n        # r = redis.Redis(host=redis_config['host'], port=redis_config['port'], db=redis_config['db'])\n        # code = r.get(rsp['data']['session']).decode()\n        # login_rsp = self.merchant_login(rsp['data']['session'])\n        # if login_rsp['status_code'] != 200:\n        #     self.is_valid_login = False\n        #     return\n        # print(\"你好啊：\",self.merchant_login())\n        # print(\"200吗：\",json.dumps(self.merchant_login()['status_code']))\n        # print(\"session吗：\",json.dumps(self.merchant_login()['data']['token']))\n>       self.session = json.dumps(self.merchant_login()['data']['token'])\nE       KeyError: 'token'\n\n..\\..\\..\\action\\merchant.py:41: KeyError"}, "start": 1606445333395, "stop": 1606445333395, "uuid": "a29b02db-8f7c-4f28-9c9d-8537d43d953c", "historyId": "aa146fc03ea7624513c33ae09347ec8c", "testCaseId": "421c97d1e085101db3a4aaccd99da136", "fullName": "case.qiantai_duo_jiekou.02_denglu.test_01denglu.Test_DengLu#test_denglu", "labels": [{"name": "feature", "value": "前台——登录"}, {"name": "parentSuite", "value": "case.qiantai_duo_jiekou.02_denglu"}, {"name": "suite", "value": "test_01denglu"}, {"name": "subSuite", "value": "Test_DengLu"}, {"name": "host", "value": "ITSK-20200916WO"}, {"name": "thread", "value": "95832-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "case.qiantai_duo_jiekou.02_denglu.test_01denglu"}]}